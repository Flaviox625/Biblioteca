{"ast":null,"code":"var _jsxFileName = \"D:\\\\Biblioteca\\\\frontend\\\\src\\\\pages\\\\Emprestimos.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport api from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Emprestimos = () => {\n  _s();\n  const [usuarios, setUsuarios] = useState([]);\n  const [livros, setLivros] = useState([]);\n  const [emprestimos, setEmprestimos] = useState([]);\n  const [form, setForm] = useState({\n    usuarioId: '',\n    livroId: '',\n    dataDevolucao: ''\n  });\n  useEffect(() => {\n    fetchUsuarios();\n    fetchLivros();\n    fetchEmprestimos();\n  }, []);\n  const fetchUsuarios = async () => {\n    try {\n      const response = await api.get('/usuarios');\n      setUsuarios(response.data);\n    } catch (err) {\n      console.error('Erro ao buscar usuários:', err);\n    }\n  };\n  const fetchLivros = async () => {\n    try {\n      const response = await api.get('/livros');\n      setLivros(response.data);\n    } catch (err) {\n      console.error('Erro ao buscar livros:', err);\n    }\n  };\n  const fetchEmprestimos = async () => {\n    try {\n      const response = await api.get('/emprestimos');\n      setEmprestimos(response.data);\n    } catch (err) {\n      console.error('Erro ao buscar empréstimos:', err);\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      await api.post('/emprestimos', form);\n      fetchEmprestimos();\n      setForm({\n        usuarioId: '',\n        livroId: '',\n        dataDevolucao: ''\n      });\n    } catch (err) {\n      console.error('Erro ao registrar empréstimo:', err);\n    }\n  };\n  const handleDevolucao = async id => {\n    try {\n      await api.put(`/emprestimos/${id}`);\n      fetchEmprestimos();\n    } catch (err) {\n      console.error('Erro ao registrar devolução:', err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Gerenciar Empr\\xE9stimos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        value: form.usuarioId,\n        onChange: e => setForm({\n          ...form,\n          usuarioId: e.target.value\n        }),\n        required: true,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Selecione o Usu\\xE1rio\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), usuarios.map(usuario => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: usuario._id,\n          children: usuario.nome\n        }, usuario._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: form.livroId,\n        onChange: e => setForm({\n          ...form,\n          livroId: e.target.value\n        }),\n        required: true,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Selecione o Livro\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), livros.map(livro => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: livro._id,\n          children: livro.titulo\n        }, livro._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        value: form.dataDevolucao,\n        onChange: e => setForm({\n          ...form,\n          dataDevolucao: e.target.value\n        }),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Registrar Empr\\xE9stimo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Empr\\xE9stimos Ativos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: emprestimos.map(emprestimo => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [emprestimo.usuario.nome, \" - \", emprestimo.livro.titulo, \" - Devolu\\xE7\\xE3o: \", emprestimo.dataDevolucao, /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleDevolucao(emprestimo._id),\n          children: \"Devolver\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }, this)]\n      }, emprestimo._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n_s(Emprestimos, \"TFUrjITmtNC6Ren8UipW4pXjdJU=\");\n_c = Emprestimos;\nexport default Emprestimos;\nvar _c;\n$RefreshReg$(_c, \"Emprestimos\");","map":{"version":3,"names":["React","useState","useEffect","api","jsxDEV","_jsxDEV","Emprestimos","_s","usuarios","setUsuarios","livros","setLivros","emprestimos","setEmprestimos","form","setForm","usuarioId","livroId","dataDevolucao","fetchUsuarios","fetchLivros","fetchEmprestimos","response","get","data","err","console","error","handleSubmit","e","preventDefault","post","handleDevolucao","id","put","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","value","onChange","target","required","map","usuario","_id","nome","livro","titulo","type","emprestimo","onClick","_c","$RefreshReg$"],"sources":["D:/Biblioteca/frontend/src/pages/Emprestimos.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport api from '../services/api';\r\n\r\nconst Emprestimos = () => {\r\n  const [usuarios, setUsuarios] = useState([]);\r\n  const [livros, setLivros] = useState([]);\r\n  const [emprestimos, setEmprestimos] = useState([]);\r\n  const [form, setForm] = useState({ usuarioId: '', livroId: '', dataDevolucao: '' });\r\n\r\n  useEffect(() => {\r\n    fetchUsuarios();\r\n    fetchLivros();\r\n    fetchEmprestimos();\r\n  }, []);\r\n\r\n  const fetchUsuarios = async () => {\r\n    try {\r\n      const response = await api.get('/usuarios');\r\n      setUsuarios(response.data);\r\n    } catch (err) {\r\n      console.error('Erro ao buscar usuários:', err);\r\n    }\r\n  };\r\n\r\n  const fetchLivros = async () => {\r\n    try {\r\n      const response = await api.get('/livros');\r\n      setLivros(response.data);\r\n    } catch (err) {\r\n      console.error('Erro ao buscar livros:', err);\r\n    }\r\n  };\r\n\r\n  const fetchEmprestimos = async () => {\r\n    try {\r\n      const response = await api.get('/emprestimos');\r\n      setEmprestimos(response.data);\r\n    } catch (err) {\r\n      console.error('Erro ao buscar empréstimos:', err);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await api.post('/emprestimos', form);\r\n      fetchEmprestimos();\r\n      setForm({ usuarioId: '', livroId: '', dataDevolucao: '' });\r\n    } catch (err) {\r\n      console.error('Erro ao registrar empréstimo:', err);\r\n    }\r\n  };\r\n\r\n  const handleDevolucao = async (id) => {\r\n    try {\r\n      await api.put(`/emprestimos/${id}`);\r\n      fetchEmprestimos();\r\n    } catch (err) {\r\n      console.error('Erro ao registrar devolução:', err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Gerenciar Empréstimos</h1>\r\n      <form onSubmit={handleSubmit}>\r\n        <select\r\n          value={form.usuarioId}\r\n          onChange={(e) => setForm({ ...form, usuarioId: e.target.value })}\r\n          required\r\n        >\r\n          <option value=\"\">Selecione o Usuário</option>\r\n          {usuarios.map((usuario) => (\r\n            <option key={usuario._id} value={usuario._id}>\r\n              {usuario.nome}\r\n            </option>\r\n          ))}\r\n        </select>\r\n        <select\r\n          value={form.livroId}\r\n          onChange={(e) => setForm({ ...form, livroId: e.target.value })}\r\n          required\r\n        >\r\n          <option value=\"\">Selecione o Livro</option>\r\n          {livros.map((livro) => (\r\n            <option key={livro._id} value={livro._id}>\r\n              {livro.titulo}\r\n            </option>\r\n          ))}\r\n        </select>\r\n        <input\r\n          type=\"date\"\r\n          value={form.dataDevolucao}\r\n          onChange={(e) => setForm({ ...form, dataDevolucao: e.target.value })}\r\n          required\r\n        />\r\n        <button type=\"submit\">Registrar Empréstimo</button>\r\n      </form>\r\n\r\n      <h2>Empréstimos Ativos</h2>\r\n      <ul>\r\n        {emprestimos.map((emprestimo) => (\r\n          <li key={emprestimo._id}>\r\n            {emprestimo.usuario.nome} - {emprestimo.livro.titulo} - Devolução: {emprestimo.dataDevolucao}\r\n            <button onClick={() => handleDevolucao(emprestimo._id)}>Devolver</button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Emprestimos;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}